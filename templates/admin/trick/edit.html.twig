{% extends 'admin/layout.html.twig' %}
{% import 'macros/alertes.html.twig' as utils %}

{% block title %}Modifier la figure {{ trick.id }} | {{ title_page }}{% endblock %}

{% block javascripts %}
    {{ parent() }}

    <script src="/dist/js/trick_upload.js"></script>
{% endblock %}

{% block body_id 'trick_edit' %}

{% block hero %}
    {{ include('_hero_section.html.twig', { show: true, title: trick.TrickName }) }}
{% endblock %}

{% block main %}
    <!-- ======= Trick Edit Form ======= -->
    <main id="main" class="mt-3">
        {{ no_script|raw }}
        
        <div class="container">
            <div class="row d-flex justify-content-center">
                <h3 class="text-center">Contenu principal</h3>
                <div class="bg-light mt-4 mb-4 p-4 d-flex justify-content-center">
                    <div class="well text-center">
                        {{ include('admin/trick/_form.html.twig', {
                            form: form,
                            button_label: 'Enregistrer',
                            include_back_to_home_link: true,
                        }, with_context = false) }}
                    </div>
                </div>

                {{ include('admin/trick/_upload_form.html.twig') }}
            </div>
        </div>
    </main>
    <script>
        let path = "{{ uploads_base_url }}"
    </script>
{% endblock %}

{% block sidebar %}
    <div class="section">
        <a href="{{ path('admin_trick_show', {trick_slug: trick.TrickSlug}) }}" class="btn btn-lg btn-block btn-success">
            <i class="fa fa-eye" aria-hidden="true"></i> Voir la figure
        </a>
    </div>

    <div class="section">
        {{ include('admin/trick/_delete_form.html.twig', {trick: trick}, with_context = false) }}
    </div>
{% endblock %}